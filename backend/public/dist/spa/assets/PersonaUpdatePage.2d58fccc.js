import{az as C,J as t,T as u,a6 as e,B as n,aA as r,aB as p,aC as m,O as f,W as v,U as b,aD as y,P as V}from"./index.5497e8f3.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";const x={data(){return{ID:null,persona:{cedula:"",nacionalidad:"Venezolano",nombres:"",apellidos:"",fecha_nacimiento:"",sexo:"Masculino",estado_civil:"Soltero",estado:"Distrito Capital",municipio:"",parroquia:"",direccion:"",telefonos:"",correo_electronico:"",cantidad_hijos:0,sueldo_actual:0,foto:null},municipiosFiltrados:[],parroquiasFiltradas:[],municipios:{"Distrito Capital":["Libertador"],Miranda:["Chacao","Baruta","Sucre"]},parroquias:{Libertador:["San Juan","Santa Teresa","El Valle"],Chacao:["Chacao"],Baruta:["El Cafetal","Las Minas"],Sucre:["Petare","La Urbina"]}}},methods:{filtrarMunicipios(){this.municipiosFiltrados=this.municipios[this.persona.estado],this.persona.municipio=this.municipiosFiltrados[0]||"",this.filtrarParroquias()},filtrarParroquias(){this.parroquiasFiltradas=this.parroquias[this.persona.municipio]||[],this.persona.parroquia=this.parroquiasFiltradas[0]||""},onFileChange(s){this.persona.foto=s.target.files[0]},async actualizarPersona(){const s=new FormData;for(const o in this.persona)s.append(o,this.persona[o]);s.append("_method","PUT");try{const o=await fetch(`http://localhost:8080/api/personas/${this.ID}`,{method:"POST",body:s,headers:{Accept:"application/json"}}),d=await o.json();console.log("Persona actualizada:",d),o.ok&&(C.create({message:d.message,color:"green",position:"top-right",timeout:2e3}),setTimeout(()=>{this.$router.push("/personas")},2e3))}catch(o){console.error("Error al actualizar la persona:",o)}}},mounted(){this.ID=this.$route.params.id,console.log("ID desde la ruta:",this.ID),this.filtrarMunicipios()}},D={class:"form-container"},F=["value"],P=["value"];function g(s,o,d,M,i,a){return t(),u("div",D,[o[42]||(o[42]=e("h2",null,"Editar Persona",-1)),e("form",{onSubmit:o[19]||(o[19]=y((...l)=>a.actualizarPersona&&a.actualizarPersona(...l),["prevent"]))},[e("div",null,[o[20]||(o[20]=e("label",{for:"cedula"},"C\xE9dula:",-1)),n(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>i.persona.cedula=l)},null,512),[[r,i.persona.cedula]])]),e("div",null,[o[22]||(o[22]=e("label",{for:"nacionalidad"},"Nacionalidad:",-1)),n(e("select",{"onUpdate:modelValue":o[1]||(o[1]=l=>i.persona.nacionalidad=l)},o[21]||(o[21]=[e("option",{value:"Venezolano"},"Venezolano",-1),e("option",{value:"Extranjero"},"Extranjero",-1)]),512),[[p,i.persona.nacionalidad]])]),e("div",null,[o[23]||(o[23]=e("label",{for:"nombres"},"Nombres:",-1)),n(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>i.persona.nombres=l)},null,512),[[r,i.persona.nombres]])]),e("div",null,[o[24]||(o[24]=e("label",{for:"apellidos"},"Apellidos:",-1)),n(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=l=>i.persona.apellidos=l)},null,512),[[r,i.persona.apellidos]])]),e("div",null,[o[25]||(o[25]=e("label",{for:"fechaNacimiento"},"Fecha de Nacimiento:",-1)),n(e("input",{type:"date","onUpdate:modelValue":o[4]||(o[4]=l=>i.persona.fecha_nacimiento=l)},null,512),[[r,i.persona.fecha_nacimiento]])]),e("div",null,[o[28]||(o[28]=e("label",null,"Sexo:",-1)),e("label",null,[n(e("input",{type:"radio","onUpdate:modelValue":o[5]||(o[5]=l=>i.persona.sexo=l),value:"Masculino"},null,512),[[m,i.persona.sexo]]),o[26]||(o[26]=f(" Masculino"))]),e("label",null,[n(e("input",{type:"radio","onUpdate:modelValue":o[6]||(o[6]=l=>i.persona.sexo=l),value:"Femenino"},null,512),[[m,i.persona.sexo]]),o[27]||(o[27]=f(" Femenino"))])]),e("div",null,[o[30]||(o[30]=e("label",{for:"estadoCivil"},"Estado Civil:",-1)),n(e("select",{"onUpdate:modelValue":o[7]||(o[7]=l=>i.persona.estado_civil=l)},o[29]||(o[29]=[e("option",{value:"Soltero"},"Soltero",-1),e("option",{value:"Casado"},"Casado",-1),e("option",{value:"Divorciado"},"Divorciado",-1),e("option",{value:"Viudo"},"Viudo",-1)]),512),[[p,i.persona.estado_civil]])]),e("div",null,[o[32]||(o[32]=e("label",{for:"estado"},"Estado:",-1)),n(e("select",{"onUpdate:modelValue":o[8]||(o[8]=l=>i.persona.estado=l),onChange:o[9]||(o[9]=(...l)=>a.filtrarMunicipios&&a.filtrarMunicipios(...l))},o[31]||(o[31]=[e("option",{value:"Distrito Capital"},"Distrito Capital",-1),e("option",{value:"Miranda"},"Miranda",-1)]),544),[[p,i.persona.estado]])]),e("div",null,[o[33]||(o[33]=e("label",{for:"municipio"},"Municipio:",-1)),n(e("select",{"onUpdate:modelValue":o[10]||(o[10]=l=>i.persona.municipio=l),onChange:o[11]||(o[11]=(...l)=>a.filtrarParroquias&&a.filtrarParroquias(...l))},[(t(!0),u(v,null,b(i.municipiosFiltrados,l=>(t(),u("option",{key:l,value:l},V(l),9,F))),128))],544),[[p,i.persona.municipio]])]),e("div",null,[o[34]||(o[34]=e("label",{for:"parroquia"},"Parroquia:",-1)),n(e("select",{"onUpdate:modelValue":o[12]||(o[12]=l=>i.persona.parroquia=l)},[(t(!0),u(v,null,b(i.parroquiasFiltradas,l=>(t(),u("option",{key:l,value:l},V(l),9,P))),128))],512),[[p,i.persona.parroquia]])]),e("div",null,[o[35]||(o[35]=e("label",{for:"direccion"},"Direcci\xF3n:",-1)),n(e("textarea",{"onUpdate:modelValue":o[13]||(o[13]=l=>i.persona.direccion=l),rows:"3"},null,512),[[r,i.persona.direccion]])]),e("div",null,[o[36]||(o[36]=e("label",{for:"telefono"},"Tel\xE9fonos:",-1)),n(e("input",{type:"text","onUpdate:modelValue":o[14]||(o[14]=l=>i.persona.telefonos=l)},null,512),[[r,i.persona.telefonos]])]),e("div",null,[o[37]||(o[37]=e("label",{for:"correo"},"Correo Electr\xF3nico:",-1)),n(e("input",{type:"email","onUpdate:modelValue":o[15]||(o[15]=l=>i.persona.correo_electronico=l)},null,512),[[r,i.persona.correo_electronico]])]),e("div",null,[o[38]||(o[38]=e("label",{for:"hijos"},"Cantidad de Hijos:",-1)),n(e("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=l=>i.persona.cantidad_hijos=l),min:"0"},null,512),[[r,i.persona.cantidad_hijos]])]),e("div",null,[o[39]||(o[39]=e("label",{for:"sueldo"},"Sueldo Actual:",-1)),n(e("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=l=>i.persona.sueldo_actual=l),min:"0"},null,512),[[r,i.persona.sueldo_actual]])]),e("div",null,[o[40]||(o[40]=e("label",{for:"foto"},"FOTO (opcional):",-1)),e("input",{type:"file",onChange:o[18]||(o[18]=(...l)=>a.onFileChange&&a.onFileChange(...l))},null,32)]),o[41]||(o[41]=e("button",{type:"submit"},"Crear Persona",-1))],32)])}var E=U(x,[["render",g]]);export{E as default};
